define("index:widget/hotplace/hotplace.js",function(t,e,o){var n=t("common:static/js/util.js"),i=3,a=9,c={init:function(t,e){this.curCity=e,this.getHot()},getHot:function(){var t="/?"+n.jsonToUrl({qt:"s",wd:"景点",c:this.curCity.code,pl_data_type:"scope",pl_spothot_section:"1,+",pl_sort_type:"hot_value",pl_sort_rule:0});$.ajax({url:t,context:this,dataType:"json"}).done(function(t){t&&t.content&&this.setHotPlace(t)})},setHotPlace:function(t){var e,o,n,c,l,s=$(".hotplace-list"),h=[],p=t.content,r=p.length>i?i:p.length;for(e=0;r>e;e++)n=p[e].uid,c=p[e].name,hotName=c.length>a?c.substr(0,a)+"...":c,l=encodeURIComponent(c),o="<a href=\"/heatmap/index/detail/qt=inf&uid={0}&wd={3}\" title=\"{1}\" onclick=\"ccStat('hot-place',{type:'link',name:'{1}'})\">{2}</a>".format(n,c,hotName,l),h.push(o);s.html(h.join(""))}};o.exports=c});