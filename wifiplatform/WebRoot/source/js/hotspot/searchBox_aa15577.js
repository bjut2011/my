define("index:widget/searchBox/searchBox.js",function(t,n,e){var o=t("common:widget/url/url.js"),i=$("#search_input"),r=$("#search_btn"),a=($("#search_form"),"搜索城市、景点等"),c="hot_value",s=function(t){var n=window._CURRENT_CITY,e=i.val();e&&e!=a&&o.update({module:"index",action:"search",query:{qt:"s",c:n.code,pl_sort_type:this.sort_type,pn:0,wd:e}},{queryReplace:!0,replace:!0}),t.preventDefault()},u=function(t){var n=$(t.target);n.val()==a&&n.val("")},l=function(t){var n=$(t.target);""===$.trim(n.val())&&n.val(a)},p=function(){i.val(""),i.focus()};e.exports={init:function(t,n){var e=n.main||{};this.sort_type=e.place_info?e.place_info.d_sort_type:c,this.curCity=n.current_city,this.bind()},bind:function(){i.val()||i.val(a),r.on("click",$.proxy(s,this)),r.on("submit",$.proxy(s,this)),i.on("focus",$.proxy(u,this)),i.on("blur",l),i.on("foucs",u),listener.on("common.page","switchend",$.proxy(p,this))}}});