define("index:widget/listpage/listpage.js",function(t,i,e){var n=t("common:widget/url/url.js"),s=t("index:widget/page/page.js");e.exports={totalCount:1,RESULT_NUM:10,page:null,pn:0,wd:"",init:function(t,i){var e=i.main||{},n=e.result,s=e.place_info;this.json=i,this.totalCount=n.total,this.current_city=i.current_city,this.pn=n.page_num,this.wd=n.wd,this.sort_type=s.d_sort_type,this.initPage(i),this.bind()},bind:function(){},initPage:function(){var t=$("#index_list_page"),i={pageCount:Math.ceil(this.totalCount/this.RESULT_NUM),page:this.pn+1,update:!0};this.page=new s(t,$.proxy(this.selPage,this),i)},selPage:function(t){this.pn=t-1,n.update({module:"index",action:"search",query:{qt:"s",wd:this.wd,pn:this.pn,pl_sort_type:this.sort_type,c:this.current_city.code}},{replace:!0})}}});